sudo: false
language: java
jdk:
  - oraclejdk8

cache:
  directories:
    - $HOME/.m2
install: true

script: "mvn clean install -DskipTests=true -B -V -e"

after_success:
- mvn clean org.jacoco:jacoco-maven-plugin:prepare-agent package sonar:sonar -Dsonar.host.url=https://sonarqube.com -Dsonar.login=$SONAR_TOKEN
- bash update-ghpages.sh

# use latest java version available instead of travis default
addons:
  apt:
    packages:
      - oracle-java8-installer